const data = [{ VideoURL: "https://customer-qtt3v55ysr8o49k3.cloudflarestream.com/641486edb251c9d3cff939c7103ca28c/manifest/video.m3u8" }, { VideoURL: "https://customer-qtt3v55ysr8o49k3.cloudflarestream.com/553ec04798dd853f35b301d8ef58711b/manifest/video.m3u8" }]; AFRAME.registerComponent("ios-video-fix", { init: function () { let t = this.el; t.addEventListener("materialvideoloadeddata", e => { t.setAttribute("material", "shader", "flat"), e.detail.texture.flipY = !0 }) } }), AFRAME.registerComponent("videohandler", { schema: { video: { type: "selector" }, btn: String }, init: function () { var t = this.el, e = 0; t.addEventListener("markerFound", async function () { var i = document.querySelector(".container"); if (i && document.querySelector("body").removeChild(i), 0 === e) { if ("Marker_1" === t.id) { const t = document.getElementById("vid-0"), e = new Hls; e.attachMedia(t), e.on(Hls.Events.MEDIA_ATTACHED, () => { e.loadSource(data[0].VideoURL) }), void 0 !== (o = t.play()) && o.then(function () { var t = document.querySelector("#vidControls0"); t && document.querySelector("#Marker_1").removeChild(t) }).catch(function (t) { console.log(t) }) } if ("Marker_2" === t.id) { const t = document.getElementById("vid-1"), e = new Hls; var o; e.attachMedia(t), e.on(Hls.Events.MEDIA_ATTACHED, () => { e.loadSource(data[1].VideoURL) }), void 0 !== (o = t.play()) && o.then(function () { var t = document.querySelector("#vidControls1"); t && document.querySelector("#Marker_2").removeChild(t) }).catch(function (t) { console.log(t) }) } e++ } void 0 !== (o = document.querySelector(`#${this.data.video.id}`).play()) && o.then(function () { var e = document.querySelector(`${this.data.btn}`); e && document.querySelector(`#${t.id}`).removeChild(e) }).catch(function (t) { console.log(t) }) }.bind(this), { passive: !0 }), t.addEventListener("markerLost", function () { document.querySelector(`#${this.data.video.id}`).pause() }.bind(this), { passive: !0 }) } }), AFRAME.registerComponent("play-pause", { schema: { video: { type: "selector" }, btn: String }, init: function () { var t = this.el, e = document.querySelector(`#${this.data.video.id}`), i = document.querySelector(`${this.data.btn}`); i.addEventListener("click", function () { var o = e.play(); void 0 !== o && o.then(function () { var e = document.querySelector(`${this.data.btn}`); e && document.querySelector(`#${t.id}`).removeChild(e) }).catch(function (t) { console.log(t) }), document.querySelector(`#${t.id}`).removeChild(i) }, { passive: !0 }) }, remove: function () { var t = document.querySelector(`${this.data.btn}`); t.removeEventListener("click", function () { var e = video.play(); void 0 !== e && e.then(function () { var t = document.querySelector(`${this.data.btn}`); t && document.querySelector(`#${marker.id}`).removeChild(t) }).catch(function (t) { console.log(t) }), document.querySelector(`#${marker.id}`).removeChild(t) }) } }), AFRAME.registerComponent("social-media", { schema: { URL: String, ID: String }, init: function () { var t = document.querySelector(`#${this.data.ID}`), e = this.data.URL; t.addEventListener("click", function () { window.open(e, "_blank") }, { passive: !0 }), t.addEventListener("touchstart", function () { window.open(e, "_blank") }, { passive: !0 }) } }), AFRAME.registerComponent("arkit-anchor", { init: function () { var t = this.el; t.addEventListener("arkit-anchor-added", function (t) { console.log("ARKit anchor added:", t.detail.anchor) }), t.addEventListener("arkit-anchor-removed", function (t) { console.log("ARKit anchor removed:", t.detail.anchor) }), t.addEventListener("arkit-anchor-updated", function (t) { console.log("ARKit anchor updated:", t.detail.anchor) }) } }), AFRAME.registerComponent("markers_start", { init: function () { var t = document.querySelector("a-scene"), e = document.createElement("a-marker"); e.setAttribute("type", "pattern"), e.setAttribute("preset", "custom"), e.setAttribute("url", "./pattern-E.patt"), e.setAttribute("id", "Marker_1"), e.object3D.position.set(0, 0, 0), e.object3D.rotation.set(0, 0, 0), e.setAttribute("videohandler", { video: "#vid-0", btn: "#vidControls0" }), e.setAttribute("play-pause", { video: "#vid-0", btn: "#vidControls0" }), e.setAttribute("smooth", "true"), e.setAttribute("smoothCount", "10"), e.setAttribute("smoothTolerance", "0.01"), e.setAttribute("smoothThreshold", "5"), e.setAttribute("emitevents", "true"), t.appendChild(e); var i = document.createElement("a-video"); i.setAttribute("id", "vid-box"), i.setAttribute("src", "#vid-0"), i.setAttribute("ios-video-fix", ""), i.object3D.scale.set(1.6, 2.4, .1), i.object3D.position.set(0, 0, 0), i.object3D.rotation.set(80, 0, 0), e.appendChild(i); var o = document.createElement("a-image"); o.setAttribute("id", "vidControls0"), o.setAttribute("src", "#play"), o.setAttribute("class", "intersectable"), o.setAttribute("clickable", "true"), o.setAttribute("width", "0.5"), o.setAttribute("height", "0.5"), o.object3D.position.set(0, .3, 0), o.object3D.rotation.set(80, 0, 0), e.appendChild(o); var r = document.createElement("a-image"); r.setAttribute("id", "plane-btn-fb0"), r.setAttribute("src", "#facebook"), r.setAttribute("class", "intersectable"), r.setAttribute("clickable", "true"), r.setAttribute("width", "0.5"), r.setAttribute("height", "0.5"), r.object3D.position.set(-.5, 0, 1.4), r.object3D.rotation.set(80, 0, 0), r.setAttribute("social-media", { URL: "https://www.facebook.com/Official.HNagesh/", ID: "plane-btn-fb0" }), e.appendChild(r); var s = document.createElement("a-image"); s.setAttribute("id", "plane-btn-web0"), s.setAttribute("src", "#website"), s.setAttribute("class", "intersectable"), s.setAttribute("clickable", "true"), s.setAttribute("width", "0.5"), s.setAttribute("height", "0.5"), s.object3D.position.set(0, 0, 1.4), s.object3D.rotation.set(80, 0, 0), s.setAttribute("social-media", { URL: "https://hnagesh.in", ID: "plane-btn-web0" }), e.appendChild(s); var n = document.createElement("a-image"); n.setAttribute("id", "plane-btn-insta0"), n.setAttribute("src", "#insta"), n.setAttribute("class", "intersectable"), n.setAttribute("clickable", "true"), n.setAttribute("width", "0.5"), n.setAttribute("height", "0.5"), n.object3D.position.set(.5, 0, 1.4), n.object3D.rotation.set(80, 0, 0), n.setAttribute("social-media", { URL: "https://instagram.com/hnagesh_belthur?igshid=YmMyMTA2M2Y=", ID: "plane-btn-insta0" }), e.appendChild(n); var a = document.createElement("a-marker"); a.setAttribute("type", "pattern"), a.setAttribute("preset", "custom"), a.setAttribute("url", "./pattern-K.patt"), a.setAttribute("id", "Marker_2"), a.object3D.position.set(0, 0, 0), a.object3D.rotation.set(0, 0, 0), a.setAttribute("videohandler", { video: "#vid-1", btn: "#vidControls1" }), a.setAttribute("play-pause", { video: "#vid-1", btn: "#vidControls1" }), a.setAttribute("smooth", "true"), a.setAttribute("smoothCount", "10"), a.setAttribute("smoothTolerance", "0.01"), a.setAttribute("smoothThreshold", "5"), a.setAttribute("emitevents", "true"), t.appendChild(a); var c = document.createElement("a-video"); c.setAttribute("id", "vid-box"), c.setAttribute("src", "#vid-1"), c.setAttribute("ios-video-fix", ""), c.object3D.scale.set(1.6, 2.4, .1), c.object3D.position.set(0, 0, 0), c.object3D.rotation.set(80, 0, 0), a.appendChild(c); var d = document.createElement("a-image"); d.setAttribute("id", "vidControls1"), d.setAttribute("src", "#play"), d.setAttribute("class", "intersectable"), d.setAttribute("clickable", "true"), d.setAttribute("width", "0.5"), d.setAttribute("height", "0.5"), d.object3D.position.set(0, .3, 0), d.object3D.rotation.set(80, 0, 0), a.appendChild(d); var u = document.createElement("a-image"); u.setAttribute("id", "plane-btn-fb1"), u.setAttribute("src", "#facebook"), u.setAttribute("class", "intersectable"), u.setAttribute("clickable", "true"), u.setAttribute("width", "0.5"), u.setAttribute("height", "0.5"), u.object3D.position.set(-.5, 0, 1.4), u.object3D.rotation.set(80, 0, 0), u.setAttribute("social-media", { URL: "https://www.facebook.com/Official.HNagesh/", ID: "plane-btn-fb1" }), a.appendChild(u); var l = document.createElement("a-image"); l.setAttribute("id", "plane-btn-web1"), l.setAttribute("src", "#website"), l.setAttribute("class", "intersectable"), l.setAttribute("clickable", "true"), l.setAttribute("width", "0.5"), l.setAttribute("height", "0.5"), l.object3D.position.set(0, 0, 1.4), l.object3D.rotation.set(80, 0, 0), l.setAttribute("social-media", { URL: "https://hnagesh.in", ID: "plane-btn-web1" }), a.appendChild(l); var b = document.createElement("a-image"); b.setAttribute("id", "plane-btn-insta1"), b.setAttribute("src", "#insta"), b.setAttribute("class", "intersectable"), b.setAttribute("clickable", "true"), b.setAttribute("width", "0.5"), b.setAttribute("height", "0.5"), b.object3D.position.set(.5, 0, 1.4), b.object3D.rotation.set(80, 0, 0), b.setAttribute("social-media", { URL: "https://instagram.com/hnagesh_belthur?igshid=YmMyMTA2M2Y=", ID: "plane-btn-insta1" }), a.appendChild(b) } });